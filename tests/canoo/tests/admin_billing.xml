<?xml version="1.0"?>
<!DOCTYPE project SYSTEM "../dtd/Project.dtd">

<project name="PICS" default="test">
	<property name="login.username" value="harkera" />
	<target name="test">
		<webtest name="Admin Billing">
			&config;
			<steps>
				<group description="Login as Billing Admin">
				&login;
				
				<property name="error_expected" value="false" />
				&body_verify;
				</group>
					
				<group description="Check Billing Reports">
				<clickLink description="Unpaid Invoices Report" href="ReportUnpaidInvoices.action" />
				&body_verify;
				<clickLink description="Lifetime Members Report" href="ReportLifetimeMembership.action" />
				&body_verify;
				<clickLink description="Billing Report" href="ReportBilling.action" />
				&body_verify;
				</group>
				
				<group description="Activations">
					<setInputField name="filter.accountName" value="Canoo's Test Contractor"/>
					<clickButton label="Search"/>
					
					<ifStep>
						<condition>
							<verifyTitle text="PICS - Canoo's Test Contractor"/>
						</condition>	
						<verifyText description="Verify that text is contained in the page" text="This contractor has not activated their account."/>
							<clickLink description="Click link: Billing Details" href="BillingDetail.action"/>
							<clickLink href="InvoiceDetail.action"/>
								<verifyText description="Verify that text is contained in the page" text="Activation"/>
								<verifyText description="Verify that text is contained in the page" text="199.00"/>
								<verifyText description="Verify that text is contained in the page" text="PICS Membership for 2-4 Operators"/>
								<verifyText description="Verify that text is contained in the page" text="899.00"/>
								<verifyText description="Verify that text is contained in the page" text="1098.00"/>
							<clickLink description="Click link: Billing Details" href="BillingDetail.action"/>
								<verifyText description="Verify Payment Method: Check" text="Check"/>
							<clickLink label="Make a Payment"/>
								<setInputField name="payment.checkNumber" value="1111"/>
								<clickButton label="Apply All"/>
								<clickButton label="Collect Payment"/>
							<clickLink description="Click link: Billing Details" href="BillingDetail.action"/>
								<verifyText description="Active:Yes" text="Yes"/>
								<clickLink description="Click link: Edit Account" href="ContractorEdit.action"/>
								<clickLink href="ContractorEdit.action"/>
								<clickButton label="Delete"/>
						</ifStep>
					</group>
		    </steps>
		</webtest>
	</target>
</project>