<?xml version="1.0"?>
<!DOCTYPE project SYSTEM "../dtd/Project.dtd">

<project name="PICS" default="test">
	<property name="login.username" value="kevin.dyer@shell.com"/>
	<property name="newuser.username" value="webtest19374"/>
	
	<target name="test">
		<webtest name="Operator User Management">
			&config;
			<steps>
				&login;
				<clickLink description="Edit User Accounts"
					href="UsersManage.action" />
				<ifStep description="Pre Clean-up: If Canoo Exists, delete">
					<condition>
						<verifyText text="Canoo Test User (Operator)"/>
					</condition>
						<clickLink label="Canoo Test User (Operator)"/>
						<clickButton label="Delete"/>
				</ifStep>	
				
				<group description="Add New Operator User">
					<clickLink label="Add New User"/>
					<setInputField name="user.name" value="Canoo Test User (Operator)"/>
					<setInputField name="user.email" value="tester@picsauditing.com"/>
					<setInputField name="user.username" value="CanooOperator"/>
					<clickButton label="Save"/>
					<verifyText description="Verify that text is contained in the page" text="User saved successfully"/>
					
					<group description="Add Permissions">
						<setSelectField htmlId="newPermissionSelect" text="Remove Contractors"/>
						<clickButton htmlId="permButton"/>
					</group>
				</group>
				
				<group description="Verify Activation Email">
					<clickLink href="EmailQueueList.action"/>
					<verifyText description="Verify that text is contained in the page" text="New PICS User Account"/>
					<verifyText description="Verify that text is contained in the page" text="tester@picsauditing.com"/>
				</group>
				
				<group description="Delete user">
					<clickLink href="UsersManage.action"/>
					<clickLink label="Canoo Test User (Operator)"/>
					<clickButton label="Delete"/>
				</group>
				
			</steps>
		</webtest>
	</target>
</project>
