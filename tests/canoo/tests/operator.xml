<?xml version="1.0"?>
<!DOCTYPE project SYSTEM "../dtd/Project.dtd">

<project name="PICS" default="test">
	<property name="login.username" value="kevin.dyer@shell.com"/>
	<property name="conID" value="2459"/>
	
	<target name="test">
		<webtest name="Operator Shell Kevin Dyer">
			&config;
			<steps>
				&login;
				<!--   CONTRACTOR LIST -->
				&body_verify;
				
				<clickLink description="Show contractor List"
					href="ContractorListOperator.action" />
				&body_verify;
				
				<!--  Confirm Filter options available -->
				<verifyText description="Verify filter options available" 
					text="updateQuery(name)" />
				&body_verify;			

				<verifyText description="Verify name of company"
					text="Aaron Oil Company" />
				&body_verify;

				<clickLink description="Verfify Notes exist"
					href="ContractorView.action?id=2459" />
				&body_verify;
								
				<clickLink description="Flag Report"
					href="ContractorFlag.action?id=2459" />
				&body_verify;
				
				<clickLink description="View Audits"
					href="ConAuditList.action?id=2459" />
				&body_verify;
				
				<clickLink description="View PQF"
					href="Audit.action?auditID=2683" />
				&body_verify;				

				<clickLink description="View Desktop Audit"
					href="Audit.action?auditID=7441" />
				&body_verify;
				
				<!--   New Contractor Search -->
				<clickLink description="Search For New Contractors"
					label="Search For New" />
				<setSelectField 
					description="Choose Trade=Cranes &amp; Rigging"
					name="trade"
					value="489" />
				<setSelectField 
					description="Choose Self Performed"
					name="performedBy"
					value="Self Performed" />
				<setSelectField 
					description="Choose Green Flag"
					name="flagStatus"
					value="Green" />
				<clickButton
					name="imageField"
					description="Click the Search button" />
				&body_verify;
				
				<verifyText description="Show List of Contractors"
					text="Showing 1-[0-9]* of .strong.[1-9][0-9]*..strong. results" regex="true" />
				&body_verify;					

				<clickLink description="Manage User Accounts"
					href="UsersManage.action" />
				&body_verify;
				
				<verifyText description="[Add User] link exists"
					text="Add User" />
				
				<storeProperty name="report_link" value="Contact Info" />
				&click_report;
				
				<storeProperty name="report_link" value="EMR Rates" />
				&click_report;

				<storeProperty name="report_link" value="Fatalities" />
				&click_report;

				<storeProperty name="report_link" value="Incidence Rates" />
				&click_report;

				<storeProperty name="report_link" value="Flag Criteria" />
				&click_report;
			</steps>
		</webtest>
	</target>
</project>
