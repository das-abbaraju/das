<?xml version="1.0"?>
<!DOCTYPE project SYSTEM "../dtd/Project.dtd">

<project name="PICS" default="test">
	<property name="register.username" value="canoo_contractor1" />
	<property name="admin.username" value="jfazeli" />
	<target name="test">
		<webtest name="Contractor Registration - Pre Cleanup">
			&config;
			<steps>
				<storeProperty description="Delete Account" 
					name="login.username" 
					propertyType="ant"
					value="${admin.username}"/>
				&login;
				<setInputField name="filter.accountName" value="Canoo's Test Contractor"/>
				<clickButton label="Search"/>
				<ifStep description="If canoo present, delete acct">
					<condition>
						<verifyText text="No results found"/>
					</condition>
						<then>
							<clickLink label="Logout"/>
						</then>
						<else>
							<clickLink description="Click link: Edit Account" htmlId="conEditLink"/>
							<clickLink label="Edit Account"/>
							<clickButton label="Delete" name="button"/>
						</else>
				</ifStep>
			</steps>
		</webtest>
		<webtest name="Contractor Registration - Register">
			&config;
			<steps>
				<invoke url="Login.action" />
				<clickLink label="Click to Register your company" />

				&body_verify;
				<group description="Register and Save">
					<!-- Register Correctly -->
					<invoke url="ContractorRegistration.action"/>
					<sleep seconds="2"/>
					<setInputField name="contractor.name" value="Canoo's Test Contractor"/>
					<setInputField name="contractor.dbaName" value="Canoo's DBA"/>
					<setSelectField name="contractor.country" text="United States"/>
					<setInputField name="contractor.contact" value="John Doe"/>
					<setInputField name="contractor.webUrl" value="www,picsauditing.com/canoo"/>
					<setInputField name="contractor.taxId" value="789456123"/>
					<setInputField name="contractor.address" value="123 Main Street"/>
					<setInputField name="contractor.city" value="Tester"/>
					<setSelectField name="contractor.state" text="Kansas"/>
					<setInputField name="contractor.zip" value="54321"/>
					<setInputField name="contractor.phone" value="949-123-4567"/>
					<setInputField name="contractor.phone2" value="949-123-4567"/>
					<setInputField name="contractor.fax" value="949-123-4568"/>
					<setInputField name="contractor.email" value="tester@picsauditing.com"/>
					<setInputField name="contractor.secondContact" value="Second Contact"/>
					<setInputField name="contractor.secondPhone" value="949-123-4567"/>
					<setInputField name="contractor.secondEmail" value="tester@picsauditing.com"/>
					<setInputField name="contractor.billingContact" value="Billing Contact"/>
					<setInputField name="contractor.billingPhone" value="949-123-4567"/>
					<setInputField name="contractor.billingEmail" value="tester@picsauditing.com"/>
					<setSelectField name="contractor.industry" text="Power"/>
					<setSelectField name="contractor.mainTrade" text="Boiler Repair"/>
					<setInputField name="contractor.description" value="This is a test account from Canoo webtest. Please delete me."/>
					<setInputField name="user.username" value="canoo_contractor1"/>
					<setInputField description="Set password field password: bigboy11" name="password" value="bigboy11"/>
					<setInputField description="Set password field confirmPassword: bigboy11" name="confirmPassword" value="bigboy11"/>
					<clickButton label="Create Account"/>
					&body_verify;
				</group>
				<group description="Services Performed">
					<setRadioButton description="Works with heavy machinery" htmlId="answerq2442Yes"/>
					<sleep seconds="2"/>
					<setRadioButton description="Office Setting" htmlId="answerq2443Yes"/>
					<sleep seconds="2"/>
					<setRadioButton description="Heights greater than 6ft" htmlId="answerq2445Yes"/>
					<sleep seconds="2"/>
					<setRadioButton description="Suggested Risk" htmlId="answerq2444Low"/>
					<sleep seconds="2"/>
					<setCheckbox description="Boiler Code" htmlId="answerq465_C"/>
					<sleep seconds="2"/>
					<setCheckbox description="Cleaning (Janitorial)" htmlId="answerq478_C"/>
					<sleep seconds="2"/>
					<clickLink label="Next >>"/>
				</group>
				<group description="Add Facilities">
					<sleep seconds="5"/>
					<clickLink description="Click link: Add" htmlId="facility_5901"/>
					<clickLink description="Click link: Add" htmlId="facility_5891"/>
					<clickLink description="Click link: Add" htmlId="facility_5147"/>
					<sleep seconds="5"/>
					<setSelectField htmlId="requestedBySelector" text="BASF Brighton Colorado"/>
					<sleep seconds="3"/>
					<clickLink label="Next >>"/>
				</group>
				<group description="Add Payment Options">
					<verifyText description="Verify that text is contained in the page" text="$699.00 USD"/>
					<verifyText description="Verify that text is contained in the page" text="$99.00 USD"/>
					<verifyText description="Verify that text is contained in the page" text="$798.00 USD"/>
					<clickButton label="Change Payment Method to Check" name="button"/>
					<clickLink label="Next >>"/>
				</group>
				<group description="Add Payment Options">
					<verifyText description="Verify that text is contained in the page" text="$798.00 USD"/>
					<clickButton label="Complete My Registration" name="button"/>
				</group>
				<group description="Confirmation Page">
					<verifyText description="Verify that text is contained in the page" 
						        text="Your account has been registered successfully."/>
				</group>
				<!-- Login inactive -->
				<storeProperty description="Login inactive"
					name="login.username"
					propertyType="ant"
					value="${register.username}"/>
				&login;
				&body_verify;
				<!--<verifyText description="Verify Activation Fee"
				      text="Activation Fee" />
				<verifyText description="Verify Activation Fee"
				      text="$99 USD" />
				
				<group description="Activate the new Account">
					<storeProperty description="Activate Account" 
						name="login.username" 
						propertyType="ant"
						value="${admin.username}"/>
					&login;
					<clickLink
						description="Open Activation Report"
						label="Activation" />
					<setInputField name="name" value="Canoo's Test Contractor" />
					<clickButton description="Search for Contractor" name="button" />
					<clickButton description="Make Visible" label="Activate" />
				</group>-->
			</steps>
		</webtest>
		
		<!--<webtest name="Contractor Registration - PQF">
			&config;
			<steps>
				<group description="Login correctly">
					<storeProperty description="Login Correctly" 
						name="login.username" 
						propertyType="ant"
						value="${register.username}"/>
					&login;
					&body_verify;
				</group>
				<group description="Fill out PQF">
					<clickLink
						description="Edit Page"
						label="Edit" />
					<clickButton
						description="Edit Contractor"
						label="Save" />
					<clickLink
						description="Edit Page"
						label="Edit" />
					<clickLink
						description="PQF Page"
						label="PQF" />
					<clickLink
						description="Edit Company Info"
						label="COMPANY INFORMATION" />
					<setInputField htmlId="answerq635" value="Canoo's Test Contractor" />
					<setInputField htmlId="answerq603" value="949-123-4567" />
					<setInputField htmlId="answerq37" value="A really, really, really, really, really, really, really, really, really, really, really, really, really, really, really, really, long company name goes here" />
					<setInputField htmlId="answerq38" value="" />
					<clickLink description="Go To Category List" label="Up to Category List" />
				</group>
				<group description="Fill out Annual Update">
					<clickLink
						description="Open Annual Update 2007"
						label="2007 Update" />
					<clickLink
						description="GENERAL INFORMATION"
						label="GENERAL INFORMATION" />
					<setRadioButton htmlId="answerq2064Yes" />
					<sleep seconds="2" />
					<clickLink description="Go To Category List" label="Up to Category List" />
					<clickLink
						description="Open OSHA Section"
						label="OSHA" />
					<setInputField name="osha.manHours" value="400000" />
					<setInputField name="osha.recordableTotal" value="10" />
					<setRadioButton name="osha.applicable" value="true" />
					<clickButton description="Save Osha" label="Save This Location" />
				</group>
				
			</steps>
		</webtest>-->
	</target>
</project>
