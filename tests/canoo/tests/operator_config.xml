<?xml version="1.0"?>
<!DOCTYPE project SYSTEM "../dtd/Project.dtd">

<project name="PICS" default="test">
	<property name="login.username" value="opman" />
	<target name="test">
		<webtest name="Operator Config">
			&config;
			<steps>
				<group description="Login as Admin">
				&login;
				
				<property name="error_expected" value="false" />
				&body_verify;
				</group>
				<invoke url="Home.action"/>
				
				<group description="Edit Operator">
						<setInputField name="filter.accountName" value="AES Alamitos"/>
						<clickButton label="Search"/>
						
							<ifStep description="Turn on Bid Only">
								<condition>
									<verifyCheckbox htmlId="save_operator_acceptsBids" checked="false"/>
								</condition>
								<setCheckbox htmlId="save_operator_acceptsBids"/>
								<clickButton label="Save"/>
								<verifyText description="Verify that text is contained in the page" text="Successfully saved AES Alamitos"/>
							</ifStep>
						
						<ifStep description="Turn on InsureGuard">
							<condition>
								<verifyRadioButton htmlId="save_operator_canSeeInsuranceYes" checked="false"/>
							</condition>
							<setRadioButton description="Check Yes" name="operator.canSeeInsurance" value="Yes"/>
							<clickButton label="Save"/>
							<verifyText description="Verify that text is contained in the page" text="Successfully saved AES Alamitos"/>
						</ifStep>
				</group>

				
				<group description="Add Permissions">
					<clickLink href="UsersManage.action"/>
					<clickLink label="Sandy Synstelien"/>	
							
					<group description="Add View Bid Only Account Contractors">

						<ifStep>
							<condition>
								<setSelectField htmlId="newPermissionSelect" text="View Bid Only Account Contractors"/>
								<sleep seconds="3"/>
							</condition>
							<clickButton htmlId="permButton"/>						
						</ifStep>
					</group>

					<group description="Add View UnApproved Contractors">
						<ifStep>
							<condition>
							<setSelectField htmlId="newPermissionSelect" text="View UnApproved Contractors"/>
							<sleep seconds="3"/>
							</condition>
								<clickButton htmlId="permButton"/>
						</ifStep>
					</group>
										
					<group description="Add Insurance Approval">
						<ifStep>
							<condition>
								<setSelectField htmlId="newPermissionSelect" text="Insurance Approval"/>
								<sleep seconds="3"/>
							</condition>		
							<clickButton htmlId="permButton"/>
						</ifStep>	
							</group>
														
						<group description="Add Insurance Certificates">
							<ifStep>
								<condition>
									<setSelectField htmlId="newPermissionSelect" text="Insurance Certificates"/>
									<sleep seconds="3"/>
								</condition>	
							<clickButton htmlId="permButton"/>
							</ifStep>	
							</group>
				</group>
				
				<group description="Verify Reports">	
					<clickLink label="Switch to this User"/>
					
					<clickLink description="Bid Only Account" href="BiddingContractorSearch.action" />
					&body_verify;

					<clickLink description="Contractor Policies" href="ReportPolicyList.action?filter.caoStatus=Approved&amp;filter.caoStatus=Rejected&amp;filter.caoStatus=Verified&amp;filter.caoStatus=Submitted" />
					&body_verify;

				</group>			
		    </steps>
		</webtest>
	</target>
</project>