<!DOCTYPE struts PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
        "http://struts.apache.org/dtds/struts-2.0.dtd">
<struts>
    <package name="com.picsauditing.employee-guard" extends="com.picsauditing" namespace="/employee-guard">
        <default-interceptor-ref name="pics-rest-stack"/>

        <action name="Breadcrumb" class="com.picsauditing.employeeguard.controllers.BreadcrumbAction">
            <result name="success">/struts/employee-guard/_breadcrumbs.jsp</result>
        </action>

        <action name="login/switchLanguage" class="com.picsauditing.employeeguard.controllers.LoginAction"
                method="switchLanguage">
            <result name="login">/struts/employee-guard/account/login.jsp</result>
        </action>

        <action name="welcome" class="com.picsauditing.employeeguard.controllers.LoginAction" method="welcome">
            <result name="login">/struts/employee-guard/account/login.jsp</result>
        </action>

        <action name="welcome/submit" class="com.picsauditing.employeeguard.controllers.LoginAction" method="login">
        </action>

        <action name="sign-up/switchLanguage" class="com.picsauditing.employeeguard.controllers.AccountAction"
                method="switchLanguage">
            <result name="sign-up">/struts/employee-guard/account/create.jsp</result>
        </action>

        <action name="sign-up" class="com.picsauditing.employeeguard.controllers.AccountAction">
            <result name="sign-up">/struts/employee-guard/account/create.jsp</result>
        </action>

        <action name="password-reset" class="com.picsauditing.employeeguard.controllers.ResetPassword">
            <result name="success">/struts/employee-guard/account/reset-password.jsp</result>
        </action>

        <action name="beta/feedback" class="com.picsauditing.employeeguard.controllers.BetaFeedbackAction"
                method="feedbackComment">
        </action>

        <action name="profile/settings" class="com.picsauditing.employeeguard.controllers.AngularLoaderAction" method="load">
        </action>

        <action name="serverInfo" class="com.picsauditing.employeeguard.controllers.AboutAction" method="info">
        </action>

        <action name="info" class="com.picsauditing.employeeguard.controllers.AngularLoaderAction" method="load">
        </action>

        <action name="employees/{employeeId}/skill/{skillId}"
                class="com.picsauditing.employeeguard.controllers.AngularLoaderAction" method="load">
        </action>

        <!-- Who Am I -->
        <action name="who-am-i" class="com.picsauditing.employeeguard.controllers.AboutAction" method="whoAmI"/>

        <!-- Skill Review -->
        <action name="skillreview/employee/{employeeId}/skill/{skillId}/info"
                class="com.picsauditing.employeeguard.controllers.SkillReviewAction" method="fetchSkillInfo"/>
        <action name="skillreview/employee/{employeeId}/info"
                class="com.picsauditing.employeeguard.controllers.SkillReviewAction" method="fetchEmployeeInfo"/>
        <action name="skillreview/employee/{employeeId}/skill/{skillId}/download"
                class="com.picsauditing.employeeguard.controllers.SkillReviewAction" method="downloadDocument"/>
        <action name="skillreview/employee/{employeeId}/skill/{skillId}/thumbnail"
                class="com.picsauditing.employeeguard.controllers.SkillReviewAction" method="downloadThumbnail">
            <result name="photo" type="stream"></result>
        </action>

        <!-- Invalid Hashcode page -->
        <action name="invalid-hash" class="com.picsauditing.employeeguard.controllers.AngularLoaderAction"
                method="anonymousLoad"/>

        <action name="skills" class="com.picsauditing.employeeguard.controllers.AngularLoaderAction" method="load">
        </action>

        <action name="roles" class="com.picsauditing.employeeguard.controllers.AngularLoaderAction" method="load">
        </action>
    </package>

    <!-- Operator -->
    <package name="com.picsauditing.employee-guard.operator" extends="com.picsauditing.employee-guard"
             namespace="/employee-guard/operators">
        <default-interceptor-ref name="pics-rest-stack"/>

        <!-- Dashboard -->
        <action name="summary" class="com.picsauditing.employeeguard.controllers.operator.SummaryAction">
        </action>

        <action name="dashboard" class="com.picsauditing.employeeguard.controllers.AngularLoaderAction" method="load">
        </action>

        <action name="changelog" class="com.picsauditing.employeeguard.controllers.AngularLoaderAction" method="load">
        </action>

        <!-- Project -->
        <action name="projects/summary" class="com.picsauditing.employeeguard.controllers.operator.ProjectSummaryAction"
                method="summary">
        </action>

        <action name="projects/list" class="com.picsauditing.employeeguard.controllers.operator.ProjectAction">
        </action>

        <!-- Project -->
        <action name="projects" class="com.picsauditing.employeeguard.controllers.AngularLoaderAction" method="load">
        </action>

        <action name="project" class="com.picsauditing.employeeguard.controllers.operator.ProjectAction">
            <result name="create">/struts/employee-guard/operator/project/create.jsp</result>
            <result name="name-skills-form">/struts/employee-guard/operator/project/_name-skills-form.jsp</result>
            <result name="job-roles-form">/struts/employee-guard/operator/project/_job-roles-form.jsp</result>
            <result name="companies-form">/struts/employee-guard/operator/project/_companies-requested-form.jsp</result>
            <result name="show">/struts/employee-guard/operator/project/show.jsp</result>
        </action>

        <!-- Assignments -->
        <action name="project/site-assignment"
                class="com.picsauditing.employeeguard.controllers.operator.SiteAssignmentAction" method="status">
            <result name="status">/struts/employee-guard/operator/assignments/site/status.jsp</result>
        </action>
        <action name="project/site-assignment/{siteId}/role/{id}"
                class="com.picsauditing.employeeguard.controllers.operator.SiteAssignmentAction" method="role">
            <result name="role">/struts/employee-guard/operator/assignments/site/role.jsp</result>
        </action>

        <!-- Role -->
        <action name="roles" class="com.picsauditing.employeeguard.controllers.AngularLoaderAction" method="load">
        </action>
        <action name="role" class="com.picsauditing.employeeguard.controllers.operator.RoleAction">
            <result name="create">/struts/employee-guard/operator/role/create.jsp</result>
            <result name="show">/struts/employee-guard/operator/role/show.jsp</result>
            <result name="name-skills-form">/struts/employee-guard/operator/role/_name-skills-form.jsp</result>
            <result name="list">/struts/employee-guard/operator/role/list.jsp</result>
            <result name="role-project-form">/struts/employee-guard/operator/role/_projects-form.jsp</result>
        </action>

        <!-- Skill -->
        <action name="skills/site/{id}" class="com.picsauditing.employeeguard.controllers.operator.SkillAction">
            <result name="required-skills">/struts/employee-guard/operator/_required-skills-form.jsp</result>
        </action>

        <action name="skill" class="com.picsauditing.employeeguard.controllers.operator.SkillAction">
            <result name="create">/struts/employee-guard/operator/skill/create.jsp</result>
            <result name="create-form">/struts/employee-guard/operator/skill/_create-form.jsp</result>
            <result name="edit-form">/struts/employee-guard/operator/skill/_edit-form.jsp</result>
            <result name="list">/struts/employee-guard/operator/skill/list.jsp</result>
            <result name="show">/struts/employee-guard/operator/skill/show.jsp</result>
        </action>

        <action name="project/{projectId}/assignments/{assignmentId}/role/{id}"
                class="com.picsauditing.employeeguard.controllers.operator.AssignmentAction" method="role">
            <result name="role">/struts/employee-guard/operator/assignments/project/role.jsp</result>
        </action>

        <action name="project/{projectId}/assignments/{id}"
                class="com.picsauditing.employeeguard.controllers.operator.AssignmentAction" method="assignments">
            <result name="project">/struts/employee-guard/operator/assignments/project/project.jsp</result>
        </action>

        <!-- Operator view of employee -->
        <action name="skills/employees/{id}" class="com.picsauditing.employeeguard.controllers.operator.EmployeeAction">
        </action>

        <action name="{siteId}/skills/employees/{id}" class="com.picsauditing.employeeguard.controllers.operator.EmployeeAction"
                method="corporateEmployeeLiveId">
        </action>

        <action name="contractors/employees/{id}" class="com.picsauditing.employeeguard.controllers.operator.EmployeeAction"
                method="employeeData">
        </action>

        <action name="{siteId}/contractors/employees/{id}" class="com.picsauditing.employeeguard.controllers.operator.EmployeeAction"
                method="corporateEmployeeData">
        </action>

        <action name="employees" class="com.picsauditing.employeeguard.controllers.AngularLoaderAction" method="load">
        </action>

        <!-- Operator Assignments Page -->
        <action name="assignments/projects"
                class="com.picsauditing.employeeguard.controllers.operator.ProjectSummaryAction" method="summary">
        </action>

        <action name="assignments/summary" class="com.picsauditing.employeeguard.controllers.operator.AssignmentSummaryAction" method="summary">
        </action>

        <action name="assignments" class="com.picsauditing.employeeguard.controllers.AngularLoaderAction" method="load" />
    </package>

    <package name="com.picsauditing.employee-guard.corporate" extends="com.picsauditing.employee-guard"
             namespace="/employee-guard/corporates">
        <action name="sites/{id}" class="com.picsauditing.employeeguard.controllers.operator.AssignmentSummaryAction"
                method="summary">
        </action>

        <action name="sites" class="com.picsauditing.employeeguard.controllers.corporate.SitesListAction"
                method="list">
        </action>
    </package>

    <!-- Contractor -->
    <package name="com.picsauditing.employee-guard.contractor" extends="com.picsauditing.employee-guard"
             namespace="/employee-guard/contractor">
        <default-interceptor-ref name="pics-rest-stack"/>

        <!-- Dashboard -->
        <action name="dashboard" class="com.picsauditing.employeeguard.controllers.AngularLoaderAction" method="load">
        </action>

        <action name="changelog" class="com.picsauditing.employeeguard.controllers.AngularLoaderAction" method="load">
        </action>

        <action name="summary" class="com.picsauditing.employeeguard.controllers.contractor.SummaryAction">
        </action>

        <!-- Employee -->
        <action name="employee" class="com.picsauditing.employeeguard.controllers.contractor.EmployeeAction">
            <result name="create">/struts/employee-guard/contractor/employee/create.jsp</result>
            <result name="list">/struts/employee-guard/contractor/employee/list.jsp</result>
            <result name="show">/struts/employee-guard/contractor/employee/show.jsp</result>
            <result name="personal-form">/struts/employee-guard/contractor/employee/_personal-form.jsp</result>
            <result name="employment-form">/struts/employee-guard/contractor/employee/_employment-form.jsp</result>
            <result name="assignment-form">/struts/employee-guard/contractor/employee/_assignment-form.jsp</result>
            <result name="photo" type="stream"></result>
        </action>

        <action name="employee/import-export"
                class="com.picsauditing.employeeguard.controllers.importexport.EmployeeImportExportAction"
                method="importExport">
            <result name="import-export">/struts/employee-guard/contractor/employee/import-export.jsp</result>
        </action>

        <action name="employee/export"
                class="com.picsauditing.employeeguard.controllers.importexport.EmployeeImportExportAction"
                method="download">
        </action>

        <action name="employee/import"
                class="com.picsauditing.employeeguard.controllers.importexport.EmployeeImportExportAction"
                method="upload">
        </action>

        <action name="employee/import-template"
                class="com.picsauditing.employeeguard.controllers.importexport.EmployeeImportExportAction"
                method="template">
        </action>

        <!-- Group -->
        <action name="employee-group" class="com.picsauditing.employeeguard.controllers.contractor.GroupAction">
            <result name="create">/struts/employee-guard/contractor/group/create.jsp</result>
            <result name="list">/struts/employee-guard/contractor/group/list.jsp</result>
            <result name="show">/struts/employee-guard/contractor/group/show.jsp</result>
            <result name="name-skills-form">/struts/employee-guard/contractor/group/_name-skills-form.jsp</result>
            <result name="employees-form">/struts/employee-guard/contractor/group/_employees-form.jsp</result>
        </action>

        <!-- Skill -->
        <action name="skill" class="com.picsauditing.employeeguard.controllers.contractor.SkillAction">
            <result name="create">/struts/employee-guard/contractor/skill/create.jsp</result>
            <result name="create-form">/struts/employee-guard/contractor/skill/_create-form.jsp</result>
            <result name="edit-form">/struts/employee-guard/contractor/skill/_edit-form.jsp</result>
            <result name="list">/struts/employee-guard/contractor/skill/list.jsp</result>
            <result name="show">/struts/employee-guard/contractor/skill/show.jsp</result>
        </action>

        <!-- Site Assignment -->
        <action name="project/site-assignment/{siteId}/role/{roleId}/employee/{id}/assign"
                class="com.picsauditing.employeeguard.controllers.contractor.SiteAssignmentAction" method="assign">
        </action>
        <action name="project/site-assignment/{siteId}/role/{roleId}/employee/{id}/unassign"
                class="com.picsauditing.employeeguard.controllers.contractor.SiteAssignmentAction" method="unassign">
        </action>
        <action name="project/site-assignment/{siteId}/employee/{id}/unassign"
                class="com.picsauditing.employeeguard.controllers.contractor.SiteAssignmentAction" method="unassignAll">
        </action>
        <action name="project/site-assignment/{siteId}/role/{id}"
                class="com.picsauditing.employeeguard.controllers.contractor.SiteAssignmentAction" method="role">
            <result name="role">/struts/employee-guard/contractor/assignments/site/role.jsp</result>
        </action>

        <action name="project/site-assignment/{id}"
                class="com.picsauditing.employeeguard.controllers.contractor.SiteAssignmentAction" method="status">
            <result name="status">/struts/employee-guard/contractor/assignments/site/status.jsp</result>
        </action>

        <!-- Project -->
        <action name="project" class="com.picsauditing.employeeguard.controllers.contractor.ProjectAction">
            <result name="list">/struts/employee-guard/contractor/project/list.jsp</result>
            <result name="show">/struts/employee-guard/contractor/project/show.jsp</result>
        </action>

        <!-- Assignments: Need to be kept in this order because of the way URLs are matched -->
        <action name="project/{projectId}/assignments/{assignmentId}/role/{roleId}/employee/{id}/assign"
                class="com.picsauditing.employeeguard.controllers.contractor.AssignmentAction"
                method="assign">
            <result name="role">/struts/employee-guard/contractor/assignments/project/role.jsp</result>
        </action>

        <action name="project/{projectId}/assignments/{assignmentId}/role/{roleId}/employee/{id}/unassign"
                class="com.picsauditing.employeeguard.controllers.contractor.AssignmentAction"
                method="unassign">
            <result name="role">/struts/employee-guard/contractor/assignments/project/role.jsp</result>
        </action>

        <action name="project/{projectId}/assignments/{assignmentId}/role/{id}"
                class="com.picsauditing.employeeguard.controllers.contractor.AssignmentAction"
                method="role">
            <result name="role">/struts/employee-guard/contractor/assignments/project/role.jsp</result>
        </action>

        <action name="project/{projectId}/assignments/{id}"
                class="com.picsauditing.employeeguard.controllers.contractor.AssignmentAction"
                method="project">
            <result name="project">/struts/employee-guard/contractor/assignments/project/project.jsp</result>
        </action>
    </package>

    <!-- Employee -->
    <package name="com.picsauditing.employee-guard.employee" extends="com.picsauditing.employee-guard"
             namespace="/employee-guard/employee">
        <default-interceptor-ref name="pics-rest-stack"/>

        <!-- Dashboard -->
        <action name="dashboardPitStop" class="com.picsauditing.employeeguard.controllers.EmployeeAngularLoaderAction" method="load">
        </action>

        <action name="dashboard" class="com.picsauditing.employeeguard.controllers.AngularLoaderAction" method="load">
        </action>

        <action name="changelog" class="com.picsauditing.employeeguard.controllers.AngularLoaderAction" method="load">
        </action>

        <action name="summary/assignments" class="com.picsauditing.employeeguard.controllers.employee.SummaryAction" method="assignments">
        </action>

        <action name="summary/employee-info" class="com.picsauditing.employeeguard.controllers.employee.SummaryAction" method="employeeInfo">
        </action>

        <action name="skills" class="com.picsauditing.employeeguard.controllers.AngularLoaderAction" method="load">
        </action>

        <action name="skills/sites" class="com.picsauditing.employeeguard.controllers.AngularLoaderAction" method="load">
        </action>

        <action name="profile/skills" class="com.picsauditing.employeeguard.controllers.employee.ProfileSkillsAction"
                method="skills">
        </action>

        <!-- Profile -->
        <action name="profile" class="com.picsauditing.employeeguard.controllers.employee.EmployeeAction">
            <result name="show">/struts/employee-guard/employee/employee/show.jsp</result>
            <result name="personal-form">/struts/employee-guard/employee/employee/_personal-form.jsp</result>
        </action>

        <action name="contractor/{contractorId}/employee-photo/{id}"
                class="com.picsauditing.employeeguard.controllers.employee.PhotoAction" method="employeePhoto">
            <result name="photo" type="stream"></result>
        </action>

        <action name="profile-photo" class="com.picsauditing.employeeguard.controllers.employee.PhotoAction"
                method="profilePhoto">
            <result name="photo" type="stream"></result>
        </action>

        <action name="live-id" class="com.picsauditing.employeeguard.controllers.employee.EmployeeAction"
                method="badge">
            <result name="badge">/struts/employee-guard/employee/badge/badge.jsp</result>
        </action>

        <action name="profile/settings" class="com.picsauditing.employeeguard.controllers.employee.EmployeeAction"
                method="settings">
            <result name="settings">/struts/employee-guard/employee/setting/settings.jsp</result>
        </action>

        <!-- Files  -->
        <action name="file" class="com.picsauditing.employeeguard.controllers.employee.DocumentAction">
            <result name="create">/struts/employee-guard/employee/file/create.jsp</result>
            <result name="edit-form">/struts/employee-guard/employee/file/_file-form.jsp</result>
            <result name="list">/struts/employee-guard/employee/file/list.jsp</result>
            <result name="show">/struts/employee-guard/employee/file/show.jsp</result>
        </action>

        <!-- Skills -->
        <action name="skillz" class="com.picsauditing.employeeguard.controllers.AngularLoaderAction" method="load">
        </action>

        <action name="skill" class="com.picsauditing.employeeguard.controllers.employee.SkillAction">
            <result name="show">/struts/employee-guard/employee/manage-skill/show.jsp</result>
            <result name="file">/struts/employee-guard/employee/manage-skill/_file-form.jsp</result>
            <result name="training">/struts/employee-guard/employee/manage-skill/_training-form.jsp</result>
        </action>
    </package>

  <!-- Restful API URIs -->
  <package name="com.picsauditing.employee-guard.api" extends="com.picsauditing" namespace="/employee-guard/api">
    <default-interceptor-ref name="pics-rest-stack"/>

    <action name="skills" class="com.picsauditing.employeeguard.controllers.restful.SkillAction" method="findSkills"/>

    <action name="groups" class="com.picsauditing.employeeguard.controllers.restful.GroupAction"/>

    <action name="roles" class="com.picsauditing.employeeguard.controllers.restful.RoleAction"/>

    <action name="files" class="com.picsauditing.employeeguard.controllers.restful.FilesAction"/>

    <action name="projects/{projectId}/roles/{roleId}/employees" class="com.picsauditing.employeeguard.controllers.restful.ProjectRoleEmployeeAction"/>

    <action name="projects/{projectId}/employees" class="com.picsauditing.employeeguard.controllers.restful.ProjectEmployeeAction"/>

    <action name="projects/{projectId}/roles" class="com.picsauditing.employeeguard.controllers.restful.ProjectRoleAction"/>

    <action name="projects" class="com.picsauditing.employeeguard.controllers.restful.ProjectAction"/>

    <action name="settings" class="com.picsauditing.employeeguard.controllers.restful.SettingsAction"/>

    <action name="languages" class="com.picsauditing.employeeguard.controllers.restful.LanguageAction"/>

    <action name="dialects/{language}" class="com.picsauditing.employeeguard.controllers.restful.DialectAction"/>

  </package>


</struts>