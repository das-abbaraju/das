<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:a4j="http://richfaces.org/a4j">
	
	<rich:modalPanel id="mp1" minHeight="460" minWidth="450" height="460"
		width="500" zindex="2000">
		<f:facet name="header">
			<h:outputText value="Notes for #{currentYear - 1}" />
		</f:facet>
		<a4j:form id="form1">
			<h:panelGrid columns="1">
				<h:panelGrid columns="1">
					<h:inputTextarea cols="45" rows="20" value="#{log.comment1}"
						binding="#{textMgr1.textArea}" />
				</h:panelGrid>
				<h:panelGrid columns="3">
					<a4j:commandButton value="Add Comment"
						actionListener="#{textMgr1.addText}" reRender="form1"
						disabled="#{textMgr1.addingText}" />
					<a4j:commandButton value="OK"
						actionListener="#{textMgr1.saveAddText}"
						onclick="javascript:Richfaces.hideModalPanel('mp1')"
						disabled="#{!textMgr1.addingText}" />
					<h:commandButton value="Cancel"
						actionListener="#{textMgr1.cancelAddText}"
						onclick="javascript:Richfaces.hideModalPanel('mp1')" />
				</h:panelGrid>
			</h:panelGrid>
		</a4j:form>

	</rich:modalPanel>

	<rich:modalPanel id="mp2" minHeight="460" minWidth="450" height="460"
		width="500" zindex="2000">
		<f:facet name="header">
			<h:outputText value="Notes for #{currentYear - 2}" />
		</f:facet>
		<a4j:form id="form2">
			<h:panelGrid columns="1">
				<h:panelGrid columns="1">
					<h:inputTextarea cols="45" rows="20" value="#{log.comment2}"
						binding="#{textMgr2.textArea}" />
				</h:panelGrid>
				<h:panelGrid columns="3">
					<a4j:commandButton value="Add Comment"
						actionListener="#{textMgr2.addText}" reRender="form2"
						disabled="#{textMgr2.addingText}" />
					<h:commandButton value="OK"
						actionListener="#{textMgr2.saveAddText}"
						onclick="javascript:Richfaces.hideModalPanel('mp2')"
						disabled="#{!textMgr2.addingText}" />
					<h:commandButton value="Cancel"
						actionListener="#{textMgr2.cancelAddText}"
						onclick="javascript:Richfaces.hideModalPanel('mp2')" />
				</h:panelGrid>
			</h:panelGrid>
		</a4j:form>

	</rich:modalPanel>

	<rich:modalPanel id="mp3" minHeight="460" minWidth="450" height="460"
		width="500" zindex="2000">
		<f:facet name="header">
			<h:outputText value="Notes for #{currentYear - 3}" />
		</f:facet>
		<a4j:form id="form3">
			<h:panelGrid columns="1">
				<h:panelGrid columns="1">
					<h:inputTextarea cols="45" rows="20" value="#{log.comment3}"
						binding="#{textMgr3.textArea}" />
				</h:panelGrid>
				<h:panelGrid columns="3">
					<a4j:commandButton value="Add Comment"
						actionListener="#{textMgr3.addText}" reRender="form3,"
						disabled="#{textMgr3.addingText}" />
					<h:commandButton value="OK"
						actionListener="#{textMgr3.saveAddText}"
						onclick="javascript:Richfaces.hideModalPanel('mp3')"
						disabled="#{!textMgr3.addingText}" />
					<h:commandButton value="Cancel"
						actionListener="#{textMgr3.cancelAddText}"
						onclick="javascript:Richfaces.hideModalPanel('mp3')" />
				</h:panelGrid>
			</h:panelGrid>
		</a4j:form>

	</rich:modalPanel>
</ui:composition>