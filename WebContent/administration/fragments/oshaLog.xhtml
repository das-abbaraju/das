<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:c="http://java.sun.com/jstl/core">

	<script type="text/javascript">
		//<![CDATA[
               function showComment(year) {
					var href="mp";
					if(year == 1){			
						href+="1";
					}else if(year == 2){
						href+="2";
					}else if(year == 3){
						href+="3";
					}
					
								
					Richfaces.showModalPanel(href,{width:450, top:200});
				}
				
				function showFile(conId, oid, file, name){
		   			var href = "../../servlet/showpdf?id=" + conId + "&OID=" + oid + "&file=" + file;
		   			window.open(href, name, "scrollbars=yes,resizable=yes,width=700,height=450");
				}

       //]]>
       
	</script>
	<rich:dataGrid value="#{oshaBean.dataModel}" var="log" elements="1"
		rowKeyVar="row" rendered="#{oshaBean.cid > 0}">
		<h:panelGrid columns="4" cellpadding="3" cellspacing="3">
			<h:outputLabel value="Location"/>
			<h:inputText value="#{log.entity.location}" styleClass="forms" />
			<h:outputLabel value="Description" styleClass="redMain"/>
			<h:inputText value="#{log.entity.description}" styleClass="forms" />
		</h:panelGrid>
		<h:panelGrid columns="5" styleClass="blueHeader" cellpadding="3" cellspacing="3">
			<h:outputText value="" styleClass="blueTitle" />
			<rich:spacer />
			<h:outputText value="#{contractorBean.currentYear - 1}" styleClass="blueTitle" />
			<h:outputText value="#{contractorBean.currentYear - 2}" styleClass="blueTitle" />
			<h:outputText value="#{contractorBean.currentYear - 3}" styleClass="blueTitle" />
			
			<h:outputText styleClass="redMain" value="Man Hours Worked" />
			<rich:spacer />
			<h:inputText label="manHours1" styleClass="formsNumber" size="12"
				value="#{log.entity.manHours1}">
				<f:validateLongRange minimum="0" />
			</h:inputText>
			<h:inputText label="manHours2" styleClass="formsNumber" size="12"
				value="#{log.entity.manHours2}">
				<f:validateLongRange minimum="0" />
			</h:inputText>
			<h:inputText label="manHours3" styleClass="formsNumber" size="12"
				value="#{log.entity.manHours3}">
				<f:validateLongRange minimum="0" />
			</h:inputText>
			<h:outputText styleClass="redMain" value="Number of Fatalities" />
			<h:outputText styleClass="redMain" value="G" />
			<h:inputText label="fatalities1" styleClass="formsNumber" size="12"
				value="#{log.entity.fatalities1}">
				<f:validateLongRange minimum="0" />
			</h:inputText>
			<h:inputText label="fatalities2" styleClass="formsNumber" size="12"
				value="#{log.entity.fatalities2}">
				<f:validateLongRange minimum="0" />
			</h:inputText>
			<h:inputText label="fatalities3" styleClass="formsNumber" size="12"
				value="#{log.entity.fatalities3}">
				<f:validateLongRange minimum="0" />
			</h:inputText>
			<h:outputText styleClass="redMain" value="Number of Lost Work Cases" />
			<h:outputText styleClass="redMain" value="H" />
			<h:inputText label="lostWorkCases1" styleClass="formsNumber"
				size="12" value="#{log.entity.lostWorkCases1}">
				<f:validateLongRange minimum="0" />
			</h:inputText>
			<h:inputText label="lostWorkCases2" styleClass="formsNumber"
				size="12" value="#{log.entity.lostWorkCases2}">
				<f:validateLongRange minimum="0" />
			</h:inputText>
			<h:inputText label="lostWorkCases3" styleClass="formsNumber"
				size="12" value="#{log.entity.lostWorkCases3}">
				<f:validateLongRange minimum="0" />
			</h:inputText>
			<h:outputText styleClass="redMain" value="Number of Lost Workdays" />
			<h:outputText styleClass="redMain" value="(K)L" />
			<h:inputText label="lostWorkDays1" styleClass="formsNumber" size="12"
				value="#{log.entity.lostWorkDays1}">
				<f:validateLongRange minimum="0" />
			</h:inputText>
			<h:inputText label="lostWorkDays2" styleClass="formsNumber" size="12"
				value="#{log.entity.lostWorkDays2}">
				<f:validateLongRange minimum="0" />
			</h:inputText>
			<h:inputText label="lostWorkDays3" styleClass="formsNumber" size="12"
				value="#{log.entity.lostWorkDays3}">
				<f:validateLongRange minimum="0" />
			</h:inputText>
			<h:outputText styleClass="redMain" value="Injury &amp; Illnesses Medical Cases" />
			<h:outputText styleClass="redMain" value="J" />
			<h:inputText label="injuryIllnessCases1" styleClass="formsNumber"
				size="12" value="#{log.entity.injuryIllnessCases1}">
				<f:validateLongRange minimum="0" />
			</h:inputText>
			<h:inputText label="injuryIllnessCases2" styleClass="formsNumber"
				size="12" value="#{log.entity.injuryIllnessCases2}">
				<f:validateLongRange minimum="0" />
			</h:inputText>
			<h:inputText label="injuryIllnessCases3" styleClass="formsNumber"
				size="12" value="#{log.entity.injuryIllnessCases3}">
				<f:validateLongRange minimum="0" />
			</h:inputText>
			<h:outputText styleClass="redMain" value="Restricted Work Cases" />
			<h:outputText styleClass="redMain" value="I" />
			<h:inputText label="restrictedWorkCases1" styleClass="formsNumber"
				size="12" value="#{log.entity.restrictedWorkCases1}">
				<f:validateLongRange minimum="0" />
			</h:inputText>
			<h:inputText label="restrictedWorkCases2" styleClass="formsNumber"
				size="12" value="#{log.entity.restrictedWorkCases2}">
				<f:validateLongRange minimum="0" />
			</h:inputText>
			<h:inputText label="restrictedWorkCases3" styleClass="formsNumber"
				size="12" value="#{log.entity.restrictedWorkCases3}">
				<f:validateLongRange minimum="0" />
			</h:inputText>
			<h:outputText styleClass="redMain"
				value="Total OSHA Recordable Injuries and Illnesses" />
			<rich:spacer />
			<h:inputText label="recordableTotal1" styleClass="formsNumber"
				size="12" value="#{log.entity.recordableTotal1}">
				<f:validateLongRange minimum="0" />
			</h:inputText>
			<h:inputText label="recordableTotal2" styleClass="formsNumber"
				size="12" value="#{log.entity.recordableTotal2}">
				<f:validateLongRange minimum="0" />
			</h:inputText>
			<h:inputText label="recordableTotal3" styleClass="formsNumber"
				size="12" value="#{log.entity.recordableTotal3}"
				validatorMessage="Total OSHA Recordable Injuries and Illnesses  - must be a number.">
				<f:validateLongRange minimum="0" />
			</h:inputText>
			<h:outputText styleClass="redMain" value="NA - No data available" />
			<rich:spacer />
			<h:selectBooleanCheckbox value="#{log.na1}" styleClass="forms" />
			<h:selectBooleanCheckbox value="#{log.na2}" styleClass="forms" />
			<h:selectBooleanCheckbox value="#{log.na3}" styleClass="forms" />
			<h:outputText styleClass="redMain" value="General Comments" />
			<rich:spacer />
			<a4j:commandButton styleClass="forms" value="..."
				onclick="showComment(1); return false;" immediate="true" />
			<a4j:commandButton styleClass="forms" value="..."
				onclick="showComment(2); return false;" immediate="true" />
			<a4j:commandButton styleClass="forms" value="..."
				onclick="showComment(3); return false;" immediate="true" />
			<h:outputText styleClass="redMain" value="Logs Uploaded" />
			<rich:spacer />
			<h:panelGrid>
				<a4j:commandButton styleClass="forms"
					rendered="#{log.entity.file1yearAgo eq 'Yes'}" value="Uploaded"
					onclick="showFile(#{log.entity.contractorInfo.id}, #{log.entity.oid}, 'osha1', 'Osha300Logs');" />
				<h:outputText styleClass="forms"
					rendered="#{log.entity.file1yearAgo eq null || log.entity.file1yearAgo eq 'No'}" value="Not Uploaded" />
			</h:panelGrid>
			<h:panelGrid>
				<a4j:commandButton styleClass="forms"
					rendered="#{log.entity.file2yearAgo eq 'Yes'}" value="Uploaded"
					onclick="showFile(#{log.entity.contractorInfo.id}, #{log.entity.oid}, 'osha2', 'Osha300Logs');" />
				<h:outputText styleClass="forms"
					rendered="#{log.entity.file2yearAgo eq null || log.entity.file2yearAgo eq 'No'}" value="Not Uploaded" />
			</h:panelGrid>
			<h:panelGrid>
				<a4j:commandButton styleClass="forms"
					rendered="#{log.entity.file3yearAgo eq 'Yes'}" value="Uploaded"
					onclick="showFile(#{log.entity.contractorInfo.id}, #{log.entity.oid}, 'osha3', 'Osha300Logs');" />
				<h:outputText styleClass="forms"
					rendered="#{log.entity.file3yearAgo eq null || log.entity.file3yearAgo eq 'No'}" value="Not Uploaded" />
			</h:panelGrid>
			
			<h:outputText styleClass="redMain" value="Verify" />
			<rich:spacer />
			<h:selectBooleanCheckbox value="#{log.verifiedDate1}"
				styleClass="forms" />
			<h:selectBooleanCheckbox value="#{log.verifiedDate2}"
				styleClass="forms" />
			<h:selectBooleanCheckbox value="#{log.verifiedDate3}"
				styleClass="forms" />
		</h:panelGrid>
		<f:facet name="footer">
			<rich:datascroller reRender="details,contractorTable"></rich:datascroller>
		</f:facet>
	</rich:dataGrid>

</ui:composition>